diff --git a/plans/ralph.sh b/plans/ralph.sh
index 9969c53..f40841c 100755
--- a/plans/ralph.sh
+++ b/plans/ralph.sh
@@ -358,7 +358,7 @@ revert_to_last_good() {
   fi
   echo "Self-heal: resetting to last good commit $last_good" | tee -a "$LOG_FILE"
   git reset --hard "$last_good"
-  git clean -fd
+  git clean -fdx -e .ralph
 }
 
 select_next_item() {
@@ -800,7 +800,7 @@ progress_gate() {
 is_test_path() {
   local path="$1"
   case "$path" in
-    */tests/*|*/__tests__/*|*/*_test.*|*_test.*|*.spec.*|*.test.*|test_*.*)
+    tests/*|*/tests/*|__tests__/*|*/__tests__/*|*/*_test.*|*_test.*|*.spec.*|*.test.*|test_*.*)
       return 0
       ;;
   esac
diff --git a/plans/workflow_acceptance.sh b/plans/workflow_acceptance.sh
index 25c21b8..6c819d4 100755
--- a/plans/workflow_acceptance.sh
+++ b/plans/workflow_acceptance.sh
@@ -619,4 +619,152 @@ if [[ "$rc" -ne 0 ]]; then
   exit 1
 fi
 
+echo "Test 10: needs_human_decision=true blocks execution"
+reset_state
+valid_prd_10="$WORKTREE/.ralph/valid_prd_10.json"
+write_valid_prd "$valid_prd_10" "S1-010"
+# Modify to set needs_human_decision=true
+tmp=$(mktemp)
+run_in_worktree jq '.items[0].needs_human_decision = true | .items[0].human_blocker = {"why":"test","question":"?","options":["A"],"recommended":"A","unblock_steps":["fix"]}' "$valid_prd_10" > "$tmp" && mv "$tmp" "$valid_prd_10"
+set +e
+run_in_worktree env \
+  PRD_FILE="$valid_prd_10" \
+  PROGRESS_FILE="$WORKTREE/.ralph/progress.txt" \
+  VERIFY_SH="$STUB_DIR/verify_pass.sh" \
+  RPH_SELECTION_MODE=harness \
+  ./plans/ralph.sh 1 >/dev/null 2>&1
+rc=$?
+set -e
+if [[ "$rc" -eq 0 ]]; then
+  echo "FAIL: expected non-zero exit for needs_human_decision=true" >&2
+  exit 1
+fi
+latest_block="$(latest_blocked_with_reason "needs_human_decision")"
+if [[ -z "$latest_block" ]]; then
+  echo "FAIL: expected blocked artifact for needs_human_decision" >&2
+  exit 1
+fi
+
+echo "Test 11: cheating detected (deleted test file)"
+reset_state
+valid_prd_11="$WORKTREE/.ralph/valid_prd_11.json"
+write_valid_prd "$valid_prd_11" "S1-011"
+# Update scope to include tests/test_dummy.rs
+tmp=$(mktemp)
+run_in_worktree jq '.items[0].scope.touch += ["tests/test_dummy.rs"]' "$valid_prd_11" > "$tmp" && mv "$tmp" "$valid_prd_11"
+
+# Create a dummy test file to delete
+run_in_worktree mkdir -p tests
+run_in_worktree touch "tests/test_dummy.rs"
+run_in_worktree git add "tests/test_dummy.rs"
+run_in_worktree git -c user.name="test" -c user.email="test@local" commit -m "add dummy test" >/dev/null 2>&1
+
+# Agent script that deletes the file
+cat > "$STUB_DIR/agent_cheat.sh" <<'EOF_CHEAT'
+#!/usr/bin/env bash
+rm tests/test_dummy.rs
+git add -u
+git -c user.name="test" -c user.email="test@local" commit -m "delete test"
+EOF_CHEAT
+chmod +x "$STUB_DIR/agent_cheat.sh"
+
+set +e
+run_in_worktree env \
+  PRD_FILE="$valid_prd_11" \
+  PROGRESS_FILE="$WORKTREE/.ralph/progress.txt" \
+  VERIFY_SH="$STUB_DIR/verify_pass.sh" \
+  RPH_AGENT_CMD="$STUB_DIR/agent_cheat.sh" \
+  RPH_CHEAT_DETECTION="block" \
+  RPH_SELECTION_MODE=harness \
+  ./plans/ralph.sh 1 >/dev/null 2>&1
+rc=$?
+set -e
+if [[ "$rc" -eq 0 ]]; then
+  echo "FAIL: expected non-zero exit for cheating (deleted test)" >&2
+  exit 1
+fi
+latest_block="$(latest_blocked_with_reason "cheating_detected")"
+if [[ -z "$latest_block" ]]; then
+  echo "FAIL: expected blocked artifact for cheating_detected" >&2
+  exit 1
+fi
+
+echo "Test 12: max iterations exceeded"
+reset_state
+valid_prd_12="$WORKTREE/.ralph/valid_prd_12.json"
+write_valid_prd "$valid_prd_12" "S1-012"
+# Agent that does NOT mark pass, just spins
+cat > "$STUB_DIR/agent_spin.sh" <<'EOF_SPIN'
+#!/usr/bin/env bash
+echo "spinning..."
+pf="${PROGRESS_FILE:-plans/progress.txt}"
+cat >> "$pf" <<TXT
+$(date +%Y-%m-%d) - S1-012
+Summary: spinning
+Commands: none
+Evidence: none
+Next: more spinning
+TXT
+git add "$pf"
+git -c user.name="test" -c user.email="test@local" commit -m "update progress"
+EOF_SPIN
+chmod +x "$STUB_DIR/agent_spin.sh"
+
+set +e
+  run_in_worktree env PRD_FILE="$valid_prd_12" PROGRESS_FILE="plans/progress.txt" VERIFY_SH="$STUB_DIR/verify_pass.sh" RPH_AGENT_CMD="$STUB_DIR/agent_spin.sh" RPH_MAX_ITERS=2 RPH_SELECTION_MODE=harness ./plans/ralph.sh 2 >/dev/null 2>&1
+rc=$?
+set -e
+if [[ "$rc" -eq 0 ]]; then
+  echo "FAIL: expected non-zero exit for max iters exceeded" >&2
+  exit 1
+fi
+latest_block="$(latest_blocked_with_reason "max_iters_exceeded")"
+if [[ -z "$latest_block" ]]; then
+  echo "FAIL: expected blocked artifact for max_iters_exceeded" >&2
+  exit 1
+fi
+
+echo "Test 13: self-heal reverts bad changes"
+reset_state
+valid_prd_13="$WORKTREE/.ralph/valid_prd_13.json"
+write_valid_prd "$valid_prd_13" "S1-013"
+# Start with clean slate
+run_in_worktree git add . >/dev/null 2>&1 || true
+run_in_worktree git -c user.name="test" -c user.email="test@local" commit -m "pre-self-heal" >/dev/null 2>&1 || true
+start_sha="$(run_in_worktree git rev-parse HEAD)"
+
+# Agent that breaks something
+cat > "$STUB_DIR/agent_break.sh" <<'SH'
+#!/usr/bin/env bash
+echo "broken" > broken_root.rs
+SH
+chmod +x "$STUB_DIR/agent_break.sh"
+
+set +e
+run_in_worktree env \
+  PRD_FILE="$valid_prd_13" \
+  PROGRESS_FILE="$WORKTREE/.ralph/progress.txt" \
+  VERIFY_SH="$STUB_DIR/verify_once_then_fail.sh" \
+  VERIFY_COUNT_FILE="$WORKTREE/.ralph/verify_count_test13" \
+  RPH_AGENT_CMD="$STUB_DIR/agent_break.sh" \
+  RPH_SELF_HEAL=1 \
+  RPH_SELECTION_MODE=harness \
+  ./plans/ralph.sh 1 >/dev/null 2>&1
+rc=$?
+set -e
+end_sha="$(run_in_worktree git rev-parse HEAD)"
+if [[ "$start_sha" != "$end_sha" ]]; then
+  echo "FAIL: self-heal did not revert commit pointer" >&2
+  exit 1
+fi
+if run_in_worktree ls broken_root.rs >/dev/null 2>&1; then
+  echo "FAIL: self-heal did not clean untracked files" >&2
+  exit 1
+fi
+# We expect exit 1 because max iters reached (since loop didn't complete story)
+if [[ "$rc" -eq 0 ]]; then
+  echo "FAIL: expected exit 1 from self-healing loop (max iters)" >&2
+  exit 1
+fi
+
 echo "Workflow acceptance tests passed"
